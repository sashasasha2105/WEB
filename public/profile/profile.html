<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>clip & go ‚Ä¢ –ü—Ä–æ—Ñ–∏–ª—å</title>

    <!-- Montserrat -->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet"/>

    <!-- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/responsive.css" media="(max-width:768px)" />
    <link rel="stylesheet" href="/css/header.css" />

    <!-- –õ–æ–∫–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –ø—Ä–æ—Ñ–∏–ª—è -->
    <link rel="stylesheet" href="/profile/profile.css" />
</head>

<body>
<!-- –û–±—â–∏–π header -->
<div id="header-container"></div>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        fetch('/header.html')
            .then(r => r.text())
            .then(html => {
                document.getElementById('header-container').innerHTML = html;

                const hdr = document.getElementById('site-header');
                if (hdr) {
                    hdr.classList.add('scrolled'); // —à–∞–ø–∫–∞ –≤—Å–µ–≥–¥–∞ –±–µ–ª–∞—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø—Ä–æ—Ñ–∏–ª—è
                }

                // –í–ê–ñ–ù–û: –ñ–¥–µ–º –∑–∞–≥—Ä—É–∑–∫–∏ CartManager –∏ –æ–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫
                const waitForCartManager = () => {
                    if (window.CartManager) {
                        console.log('[Header] CartManager –Ω–∞–π–¥–µ–Ω, –æ–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫ –∫–æ—Ä–∑–∏–Ω—ã');
                        window.CartManager.updateCartCounter();
                    } else {
                        console.log('[Header] –û–∂–∏–¥–∞–Ω–∏–µ CartManager...');
                        setTimeout(waitForCartManager, 50);
                    }
                };

                // –ù–∞—á–∏–Ω–∞–µ–º –æ–∂–∏–¥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É
                setTimeout(waitForCartManager, 100);
            })
            .catch(console.error);
    });
</script>

<main class="profile-container">
    <div class="profile-header">
        <h1>–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h1>
        <div class="profile-stats">
            <div class="stat-card">
                <div class="stat-number" id="totalOrders">0</div>
                <div class="stat-label">–í—Å–µ–≥–æ –∑–∞–∫–∞–∑–æ–≤</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="totalSpent">0 ‚ÇΩ</div>
                <div class="stat-label">–ü–æ—Ç—Ä–∞—á–µ–Ω–æ</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="lastOrderDate">‚Äî</div>
                <div class="stat-label">–ü–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–∫–∞–∑</div>
            </div>
        </div>
    </div>

    <div class="profile-content">
        <!-- –í–∫–ª–∞–¥–∫–∏ -->
        <div class="tabs">
            <button class="tab-btn active" data-tab="orders">–ú–æ–∏ –∑–∞–∫–∞–∑—ã</button>
            <button class="tab-btn" data-tab="info">–õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</button>
            <button class="tab-btn" data-tab="settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
        </div>

        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –≤–∫–ª–∞–¥–æ–∫ -->
        <div class="tab-content">
            <!-- –í–∫–ª–∞–¥–∫–∞ "–ú–æ–∏ –∑–∞–∫–∞–∑—ã" -->
            <div id="orders" class="tab-pane active">
                <div class="orders-header">
                    <h2>–ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤</h2>
                    <button id="refreshOrdersBtn" class="refresh-btn">
                        <span class="refresh-icon">üîÑ</span>
                        –û–±–Ω–æ–≤–∏—Ç—å
                    </button>
                </div>

                <div id="ordersContainer" class="orders-container">
                    <div class="loading" id="ordersLoading">
                        <div class="spinner"></div>
                        <p>–ó–∞–≥—Ä—É–∂–∞–µ–º –≤–∞—à–∏ –∑–∞–∫–∞–∑—ã...</p>
                    </div>
                </div>

                <div id="noOrdersMessage" class="no-orders" style="display: none;">
                    <div class="no-orders-icon">üì¶</div>
                    <h3>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤</h3>
                    <p>–°–∞–º–æ–µ –≤—Ä–µ–º—è —Å–¥–µ–ª–∞—Ç—å –ø–µ—Ä–≤—É—é –ø–æ–∫—É–ø–∫—É!</p>
                    <a href="/index.html" class="btn-primary">–ü–µ—Ä–µ–π—Ç–∏ –∫ –ø–æ–∫—É–ø–∫–∞–º</a>
                </div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ "–õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è" -->
            <div id="info" class="tab-pane">
                <div class="info-section">
                    <h2>–õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
                    <div class="info-card">
                        <form id="userInfoForm">
                            <div class="form-group">
                                <label for="userFullName">–§–ò–û</label>
                                <input type="text" id="userFullName" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –ø–æ–ª–Ω–æ–µ –∏–º—è">
                            </div>
                            <div class="form-group">
                                <label for="userPhone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                                <input type="tel" id="userPhone" placeholder="+7 999 000 11 22">
                            </div>
                            <div class="form-group">
                                <label for="userEmail">Email</label>
                                <input type="email" id="userEmail" placeholder="your@email.com">
                            </div>
                            <div class="form-group">
                                <label for="userCity">–ì–æ—Ä–æ–¥</label>
                                <input type="text" id="userCity" placeholder="–í–∞—à –≥–æ—Ä–æ–¥">
                            </div>
                            <button type="submit" class="btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏" -->
            <div id="settings" class="tab-pane">
                <div class="settings-section">
                    <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
                    <div class="settings-card">
                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>Email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
                                <p>–ü–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ –∑–∞–∫–∞–∑–æ–≤</p>
                            </div>
                            <label class="toggle">
                                <input type="checkbox" id="emailNotifications" checked>
                                <span class="slider"></span>
                            </label>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>SMS-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
                                <p>–ü–æ–ª—É—á–∞—Ç—å SMS –æ –¥–æ—Å—Ç–∞–≤–∫–µ –∑–∞–∫–∞–∑–æ–≤</p>
                            </div>
                            <label class="toggle">
                                <input type="checkbox" id="smsNotifications" checked>
                                <span class="slider"></span>
                            </label>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ —Ä–∞—Å—Å—ã–ª–∫–∏</h3>
                                <p>–ü–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–∫–∏–¥–∫–∞—Ö –∏ –Ω–æ–≤–∏–Ω–∫–∞—Ö</p>
                            </div>
                            <label class="toggle">
                                <input type="checkbox" id="marketingEmails">
                                <span class="slider"></span>
                            </label>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>–û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É</h3>
                                <p>–£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã</p>
                            </div>
                            <button id="clearCartBtn" class="btn-danger">–û—á–∏—Å—Ç–∏—Ç—å</button>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>–û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∑–∞–∫–∞–∑–æ–≤</h3>
                                <p>–£–¥–∞–ª–∏—Ç—å –≤—Å—é –∏—Å—Ç–æ—Ä–∏—é –∑–∞–∫–∞–∑–æ–≤ (–Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ)</p>
                            </div>
                            <button id="clearHistoryBtn" class="btn-danger">–û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<footer>
    <p>¬© 2025 clip & go. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
    <p>
        <a href="/Policy/privacy-cookie-policy.html">–ü–æ–ª–∏—Ç–∏–∫–∞ cookies –∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
    </p>
</footer>

<!-- –°–∫—Ä–∏–ø—Ç—ã -->
<script src="/js/cart-manager.js"></script>
<script src="/js/script.js"></script>
<script src="/js/mobile-header.js"></script>
<script src="/profile/profile.js"></script>
</body>
</html>